<svg viewBox="0 0 800 550" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="550" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Project Sonique v0.1.0: Enhanced Analysis Architecture</text>
  
  <!-- Stage 1: Initial Processing -->
  <rect x="50" y="60" width="700" height="100" rx="5" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="1"/>
  <text x="400" y="75" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Stage 1: Initial Processing</text>
  
  <!-- Video Input -->
  <rect x="70" y="85" width="120" height="60" rx="10" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
  <text x="130" y="120" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Video Input</text>
  
  <!-- Frame Sampling -->
  <rect x="220" y="85" width="120" height="60" rx="10" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
  <text x="280" y="120" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Frame Sampling</text>
  
  <!-- Distribution Controller -->
  <rect x="370" y="85" width="120" height="60" rx="10" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="2"/>
  <text x="430" y="113" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Distribution</text>
  <text x="430" y="128" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Controller</text>
  
  <!-- Frame Storage -->
  <rect x="520" y="85" width="120" height="60" rx="10" fill="#e0f7fa" stroke="#006064" stroke-width="2"/>
  <text x="580" y="120" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Frame Storage</text>
  
  <!-- Flow Arrows -->
  <path d="M 190 115 L 220 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 340 115 L 370 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 490 115 L 520 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Stage 2: Parallel Processing -->
  <rect x="50" y="170" width="700" height="190" rx="5" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="1"/>
  <text x="400" y="185" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Stage 2: Parallel Processing</text>
  
  <!-- Left Track: Multi-Band Motion Analysis -->
  <rect x="70" y="200" width="280" height="150" rx="10" fill="#e1f5fe" stroke="#0277bd" stroke-width="2"/>
  <text x="210" y="220" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Multi-Band Motion Analysis</text>
  
  <!-- Motion Analysis Components -->
  <rect x="85" y="235" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="140" y="255" font-family="Arial" font-size="11" text-anchor="middle">ULF Band (0.01-0.1Hz)</text>
  
  <rect x="85" y="270" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="140" y="290" font-family="Arial" font-size="11" text-anchor="middle">LF Band (0.1-1Hz)</text>
  
  <rect x="85" y="305" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="140" y="325" font-family="Arial" font-size="11" text-anchor="middle">MF Band (1-5Hz)</text>
  
  <rect x="225" y="235" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="280" y="255" font-family="Arial" font-size="11" text-anchor="middle">HF Band (5-15Hz)</text>
  
  <rect x="225" y="270" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="280" y="290" font-family="Arial" font-size="11" text-anchor="middle">UHF Band (15+Hz)</text>
  
  <rect x="225" y="305" width="110" height="30" rx="3" fill="#bbdefb" stroke="#1565c0" stroke-width="1"/>
  <text x="280" y="325" font-family="Arial" font-size="11" text-anchor="middle">Jitter Analysis</text>
  
  <!-- Right Track: AI-Powered Analysis -->
  <rect x="450" y="200" width="280" height="150" rx="10" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="2"/>
  <text x="590" y="220" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Local LLM Integration (Optional)</text>
  
  <!-- AI Analysis Components -->
  <rect x="465" y="235" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="528" y="255" font-family="Arial" font-size="11" text-anchor="middle">Ollama API Service</text>
  
  <rect x="465" y="270" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="528" y="290" font-family="Arial" font-size="11" text-anchor="middle">LLaVA Vision Model</text>
  
  <rect x="465" y="305" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="528" y="325" font-family="Arial" font-size="11" text-anchor="middle">Low-Level Feature Extract</text>
  
  <rect x="595" y="235" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="658" y="255" font-family="Arial" font-size="11" text-anchor="middle">Pattern Matching</text>
  
  <rect x="595" y="270" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="658" y="290" font-family="Arial" font-size="11" text-anchor="middle">Visual Feature Sets</text>
  
  <rect x="595" y="305" width="125" height="30" rx="3" fill="#e1bee7" stroke="#6a1b9a" stroke-width="1"/>
  <text x="658" y="325" font-family="Arial" font-size="11" text-anchor="middle">Response Processing</text>
  
  <!-- Distribution Flow -->
  <path d="M 430 145 L 210 200" stroke="#0277bd" stroke-width="2" stroke-dasharray="4,2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 430 145 L 590 200" stroke="#6a1b9a" stroke-width="2" stroke-dasharray="4,2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Stage 3: Feature Integration -->
  <rect x="50" y="370" width="700" height="90" rx="5" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="1"/>
  <text x="400" y="385" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Stage 3: Feature Integration</text>
  
  <!-- SVD Processor -->
  <rect x="70" y="395" width="120" height="50" rx="5" fill="#e8eaf6" stroke="#3949ab" stroke-width="2"/>
  <text x="130" y="425" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">SVD Processor</text>
  
  <!-- Distribution Analysis -->
  <rect x="220" y="395" width="120" height="50" rx="5" fill="#e8eaf6" stroke="#3949ab" stroke-width="2"/>
  <text x="280" y="418" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Distribution</text>
  <text x="280" y="433" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Analysis</text>
  
  <!-- Feature Correlation -->
  <rect x="370" y="395" width="120" height="50" rx="5" fill="#e8eaf6" stroke="#3949ab" stroke-width="2"/>
  <text x="430" y="418" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Feature</text>
  <text x="430" y="433" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Correlation</text>
  
  <!-- Data Integration -->
  <rect x="520" y="395" width="120" height="50" rx="5" fill="#e8eaf6" stroke="#3949ab" stroke-width="2"/>
  <text x="580" y="418" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Data</text>
  <text x="580" y="433" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Integration</text>
  
  <!-- Integration Flows -->
  <path d="M 210 350 L 130 395" stroke="#0277bd" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 210 350 L 280 395" stroke="#0277bd" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 590 350 L 430 395" stroke="#6a1b9a" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 590 350 L 580 395" stroke="#6a1b9a" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <path d="M 190 420 L 220 420" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 340 420 L 370 420" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 490 420 L 520 420" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Stage 4: Lookup Table Generation -->
  <rect x="50" y="470" width="700" height="60" rx="5" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="1"/>
  <text x="400" y="485" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Stage 4: Lookup Table Generation</text>
  
  <!-- Lookup Table Generation -->
  <rect x="350" y="495" width="160" height="30" rx="5" fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
  <text x="430" y="515" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Lookup Table Generation</text>
  
  <!-- Final Flow -->
  <path d="M 400 460 L 400 495" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Human Interaction Points -->
  <circle cx="400" y="170" r="10" fill="#ffcc80" stroke="#e65100" stroke-width="2"/>
  <text x="420" y="165" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Artist</text>
  <text x="420" y="180" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Interaction</text>
  
  <circle cx="400" y="370" r="10" fill="#ffcc80" stroke="#e65100" stroke-width="2"/>
  <text x="420" y="365" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Artist</text>
  <text x="420" y="380" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Interaction</text>
  
  <circle cx="400" y="470" r="10" fill="#ffcc80" stroke="#e65100" stroke-width="2"/>
  <text x="420" y="465" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Artist</text>
  <text x="420" y="480" font-family="Arial" font-size="11" font-weight="bold" fill="#e65100">Interaction</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666"/>
    </marker>
  </defs>
</svg>